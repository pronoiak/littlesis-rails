<%#
Main Littlesis Top Navigation Menu

shared/_bootstrap_nav_menu renders the dropdown menu options
shared/_nav_menu_search renders the search box

%>

<%
navbar_container_classes = %w[navbar navbar-expand-md fixed-top navbar-light bg-light]
navbar_container_classes << 'donation-banner' if show_donation_banner?

navbar_wrapper_classes = []
navbar_wrapper_classes << 'navbar-full-width' if local_assigns[:full_width].present?
navbar_wrapper_classes << 'donation-banner' if show_donation_banner?
%>

<div id="top">

  <% if show_donation_banner? %>
    <%= render partial: 'shared/donation_banner' %>
  <% end %>

  <nav class="<%= navbar_container_classes.join(' ') %>" id="main-navbar-container">

    <div id="navbar-content-wrapper" class="<%= navbar_wrapper_classes.join(' ') %>">

      <div id="navbar-content">
        <div id="brand mr-auto">
	  <%= link_to(image_tag("lilsis-logo-trans-200.png"), signed_in? ? home_dashboard_path : root_path) %>
        </div>

        <div class="collapse navbar-collapse">
          <div class="mr-auto nav">
	    <%= render partial: 'shared/bootstrap_nav_menu' %>
          </div>

          <div id="navbar-notice">
            <% if content_for? :navbar_notice %>
              <%# render notice %>
            <% end  %>
          </div>

          <div id="top_donate_link">
	    <span><strong><%= link_to('Donate', '/donate', id: 'donate-link-button')%></strong></span>
	  </div>

          <div>
	    <%= render partial: 'shared/nav_menu_search' %>
          </div>
        </div>
      </div>

    </div>
  </nav>
</div>
